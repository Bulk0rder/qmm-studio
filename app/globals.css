@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 255 255 255;
    --foreground: 9 9 11;
    --card: 255 255 255;
    --card-foreground: 9 9 11;
    --popover: 255 255 255;
    --popover-foreground: 9 9 11;
    --primary: 24 24 27;
    --primary-foreground: 250 250 250;
    --secondary: 244 244 245;
    --secondary-foreground: 24 24 27;
    --muted: 244 244 245;
    --muted-foreground: 113 113 122;
    --accent: 244 244 245;
    --accent-foreground: 24 24 27;
    --destructive: 239 68 68;
    --destructive-foreground: 250 250 250;
    --border: 228 228 231;
    --input: 228 228 231;
    --ring: 24 24 27;
    --radius: 0.5rem;

    /* Legacy mapping for app-specific classes if needed, though we should migrate */
    --bg: 255 255 255;
    --fg: 9 9 11;
  }

  .dark {
    --background: 9 9 11;
    --foreground: 250 250 250;
    --card: 9 9 11;
    --card-foreground: 250 250 250;
    --popover: 9 9 11;
    --popover-foreground: 250 250 250;
    --primary: 250 250 250;
    --primary-foreground: 24 24 27;
    --secondary: 39 39 42;
    --secondary-foreground: 250 250 250;
    --muted: 39 39 42;
    --muted-foreground: 161 161 170;
    --accent: 39 39 42;
    --accent-foreground: 250 250 250;
    --destructive: 127 29 29;
    --destructive-foreground: 250 250 250;
    --border: 39 39 42;
    --input: 39 39 42;
    --ring: 212 212 216;

    /* Legacy */
    --bg: 9 9 11;
    --fg: 250 250 250;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Print Styles for PDF Export */
@media print {
  @page {
    margin: 1cm;
    size: A4;
  }

  body {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
    background: white !important;
    color: black !important;
  }

  /* Hide UI elements */
  nav,
  footer,
  button,
  .no-print {
    display: none !important;
  }

  /* Ensure content is visible and formatted */
  .shadow-sm,
  .shadow-md,
  .shadow-lg {
    box-shadow: none !important;
    border: 1px solid #ddd !important;
  }

  /* Ensure PageShell constraint is ignored for full width */
  .max-w-\[1200px\] {
    max-width: 100% !important;
    padding: 0 !important;
  }

  /* Force dark text */
  .text-muted,
  .text-muted-foreground {
    color: #555 !important;
  }

  /* Break pages nicely */
  h1,
  h2,
  h3 {
    page-break-after: avoid;
  }

  .card,
  .p-6 {
    page-break-inside: avoid;
  }
}

@layer utilities {
  .bg-app {
    @apply bg-background;
  }

  .text-app {
    @apply text-foreground;
  }

  .border-app {
    @apply border-border;
  }

  .card-surface {
    @apply bg-card text-card-foreground border-border shadow-sm border;
  }

  /* Minimal scrollbar */
  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-none {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .glass-panel {
    @apply bg-white/70 dark:bg-zinc-900/70 backdrop-blur-md border border-border shadow-sm;
  }
}